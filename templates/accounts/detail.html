{% extends "base.html" %}

{% block title %}{{ account.email }} â€¢ EmailIQ{% endblock %}

{% block header_title %}{{ account.email }}{% endblock %}

{% block content %}
<div class="bg-gray-800">
  <div class="mx-auto max-w-7xl px-4 py-6 sm:px-6 lg:px-8">
    {% url 'account_update' account.pk as account_update_url %}
    {% if account.is_connected %}
    {% url 'sync_account' account.pk as sync_url %}
    {% include 'includes/page_header.html' with title=account.email edit_url=account_update_url primary_action_url=sync_url primary_action_text="Sync Now" %}
    {% else %}
    {% if account.provider == 'gmail' %}
    {% url 'connect_gmail' as connect_url %}
    {% include 'includes/page_header.html' with title=account.email edit_url=account_update_url primary_action_url=connect_url primary_action_text="Connect Gmail" %}
    {% else %}
    {% include 'includes/page_header.html' with title=account.email edit_url=account_update_url %}
    {% endif %}
    {% endif %}
  </div>
</div>
<div class="bg-gray-800">
  <div class="mx-auto max-w-7xl px-4 py-6 sm:px-6 lg:px-8">
    <div>
      <div class="px-4 sm:px-0">
        <h3 class="text-base/7 font-semibold text-white">Account Information</h3>
        <p class="mt-1 max-w-2xl text-sm/6 text-gray-400">Account details and configuration.</p>
      </div>
      <div class="mt-6 border-t border-white/10">
        <dl class="divide-y divide-white/10">
          <div class="px-4 py-6 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0">
            <dt class="text-sm/6 font-medium text-gray-100">Provider</dt>
            <dd class="mt-1 text-sm/6 text-gray-400 sm:col-span-2 sm:mt-0">{{ account.get_provider_display }}</dd>
          </div>
          <div class="px-4 py-6 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0">
            <dt class="text-sm/6 font-medium text-gray-100">Email</dt>
            <dd class="mt-1 text-sm/6 text-gray-400 sm:col-span-2 sm:mt-0">{{ account.email }}</dd>
          </div>
          {% if account.signature_html %}
          <div class="px-4 py-6 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0">
            <dt class="text-sm/6 font-medium text-gray-100">Signature</dt>
            <dd class="mt-1 text-sm/6 text-gray-400 sm:col-span-2 sm:mt-0">
              <div class="prose prose-invert max-w-none">
                {{ account.signature_html|safe }}
              </div>
            </dd>
          </div>
          {% endif %}
          {% if account.writing_style %}
          <div class="px-4 py-6 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0">
            <dt class="text-sm/6 font-medium text-gray-100">Writing Style</dt>
            <dd class="mt-1 text-sm/6 text-gray-400 sm:col-span-2 sm:mt-0 whitespace-pre-wrap">{{ account.writing_style }}</dd>
          </div>
          {% endif %}
        </dl>
      </div>
    </div>
  </div>
</div>
{% endblock %}
