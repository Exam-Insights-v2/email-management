{% extends "base.html" %}

{% block title %}{{ title }} â€¢ EmailIQ{% endblock %}

{% block header_title %}{{ title }}{% endblock %}

{% block content %}
<div class="bg-white dark:bg-gray-800">
  <div class="mx-auto max-w-7xl px-4 py-6 sm:px-6 lg:px-8">
    {% include 'includes/page_header.html' with title=title %}
  </div>
</div>
<section class="bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-white/10 overflow-hidden mt-6">
  <form method="post" class="px-6 py-6">
    {% csrf_token %}
    
    {% if form.non_field_errors %}
    <div class="mb-6 p-4 bg-red-500/10 border border-red-500/20 rounded-md text-sm text-red-400">
      {{ form.non_field_errors }}
    </div>
    {% endif %}
    
    <div class="space-y-12">
      <div class="border-b border-gray-200 dark:border-white/10 pb-12">
        <h2 class="text-base/7 font-semibold text-gray-900 dark:text-white">Account Information</h2>
        <p class="mt-1 text-sm/6 text-gray-600 dark:text-gray-400">Enter the details for this account.</p>

        <div class="mt-10 grid grid-cols-1 gap-x-6 gap-y-8 sm:grid-cols-6">
          {% for field in form %}
          <div class="{% if field.name == 'email' %}sm:col-span-4{% else %}col-span-full{% endif %}">
            <label for="{{ field.id_for_label }}" class="block text-sm/6 font-medium text-gray-900 dark:text-white">
              {{ field.label }}
              {% if field.field.required %}<span class="text-red-400">*</span>{% endif %}
            </label>
            <div class="mt-2 [&_input]:block [&_input]:w-full [&_input]:rounded-md [&_input]:bg-gray-50 [&_input]:dark:bg-white/5 [&_input]:px-3 [&_input]:py-1.5 [&_input]:text-base [&_input]:text-gray-900 [&_input]:dark:text-white [&_input]:outline-1 [&_input]:-outline-offset-1 [&_input]:outline-gray-300 [&_input]:dark:outline-white/10 [&_input]:placeholder:text-gray-500 [&_input]:focus:outline-2 [&_input]:focus:-outline-offset-2 [&_input]:focus:outline-cyan-600 [&_input]:sm:text-sm/6 [&_textarea]:block [&_textarea]:w-full [&_textarea]:rounded-md [&_textarea]:bg-gray-50 [&_textarea]:dark:bg-white/5 [&_textarea]:px-3 [&_textarea]:py-1.5 [&_textarea]:text-base [&_textarea]:text-gray-900 [&_textarea]:dark:text-white [&_textarea]:outline-1 [&_textarea]:-outline-offset-1 [&_textarea]:outline-gray-300 [&_textarea]:dark:outline-white/10 [&_textarea]:placeholder:text-gray-500 [&_textarea]:focus:outline-2 [&_textarea]:focus:-outline-offset-2 [&_textarea]:focus:outline-cyan-600 [&_textarea]:sm:text-sm/6 [&_select]:block [&_select]:w-full [&_select]:rounded-md [&_select]:bg-gray-50 [&_select]:dark:bg-white/5 [&_select]:px-3 [&_select]:py-1.5 [&_select]:text-base [&_select]:text-gray-900 [&_select]:dark:text-white [&_select]:outline-1 [&_select]:-outline-offset-1 [&_select]:outline-gray-300 [&_select]:dark:outline-white/10 [&_select]:focus:outline-2 [&_select]:focus:-outline-offset-2 [&_select]:focus:outline-cyan-600 [&_select]:sm:text-sm/6 [&_select]:appearance-none [&_select]:*:bg-white [&_select]:dark:*:bg-gray-800">
              {% if field.field.widget.input_type == 'select' %}
                <div class="grid grid-cols-1">
                  {{ field }}
                  <svg viewBox="0 0 16 16" fill="currentColor" data-slot="icon" aria-hidden="true" class="pointer-events-none col-start-1 row-start-1 mr-2 size-5 self-center justify-self-end text-gray-600 dark:text-gray-400 sm:size-4">
                    <path d="M4.22 6.22a.75.75 0 0 1 1.06 0L8 8.94l2.72-2.72a.75.75 0 1 1 1.06 1.06l-3.25 3.25a.75.75 0 0 1-1.06 0L4.22 7.28a.75.75 0 0 1 0-1.06Z" clip-rule="evenodd" fill-rule="evenodd" />
                  </svg>
                </div>
              {% else %}
                {{ field }}
              {% endif %}
            </div>
            {% if field.help_text %}
            <p class="mt-3 text-sm/6 text-gray-600 dark:text-gray-400">{{ field.help_text }}</p>
            {% endif %}
            {% if field.errors %}
            <p class="mt-2 text-sm/6 text-red-400">{{ field.errors }}</p>
            {% endif %}
          </div>
          {% endfor %}
        </div>
      </div>
    </div>

    <div class="mt-6 flex items-center justify-end gap-x-6">
      <a href="{% if account %}{% url 'account_detail' account.pk %}{% else %}{% url 'accounts_list' %}{% endif %}" class="text-sm/6 font-semibold text-gray-900 dark:text-white">Cancel</a>
      <button type="submit" class="rounded-md bg-cyan-600 px-3 py-2 text-sm font-semibold text-white focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-cyan-600">Save</button>
    </div>
  </form>
</section>
{% endblock %}
