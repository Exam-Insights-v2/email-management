      /* Sitewide: reduce font weight (semibold -> medium, bold -> semibold) */
      body { font-weight: 400; }
      .font-semibold { font-weight: 500 !important; }
      .font-bold { font-weight: 600 !important; }
      /* Google Material Symbols Rounded */
      .material-icons {
        font-family: 'Material Symbols Rounded';
        font-weight: normal;
        font-style: normal;
        font-size: 24px;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        line-height: 1;
        text-transform: none;
        letter-spacing: normal;
        word-wrap: normal;
        white-space: nowrap;
        direction: ltr;
        -webkit-font-smoothing: antialiased;
        text-rendering: optimizeLegibility;
        -moz-osx-font-smoothing: grayscale;
        font-feature-settings: 'liga';
        font-variation-settings:
          'FILL' 0,
          'wght' 500,
          'GRAD' 0,
          'opsz' 24;
        vertical-align: middle;
      }
      .material-icons.size-3 { font-size: 0.75rem; }
      .material-icons.size-3\.5 { font-size: 0.875rem; }
      .material-icons.size-4 { font-size: 1rem; }
      .material-icons.size-5 { font-size: 1.25rem; }
      .material-icons.size-6 { font-size: 1.5rem; }
      .material-icons.size-\[18px\] { font-size: 18px; }

      /* Mobile icon-only pattern for nav tabs and compact action buttons */
      @media (max-width: 639px) {
        .mobile-icon-only {
          padding-left: 0.625rem !important;
          padding-right: 0.625rem !important;
          min-width: 2.25rem;
          justify-content: center;
        }
        .mobile-icon-only .mobile-icon-only-text {
          display: none !important;
        }
      }

      /* Keep page layout stable when vertical scrollbars appear/disappear. */
      #app-main-shell > main {
        scrollbar-gutter: stable both-edges;
      }
      
      /* Email body styling to look like a real email client */
      .email-body {
        width: 100%;
        font-family: 'Google Sans', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Helvetica Neue', Arial, sans-serif;
        word-wrap: break-word;
        word-break: break-word;
        overflow-wrap: break-word;
        white-space: normal;
        /* CSS containment to isolate email styles from affecting the rest of the page */
        contain: layout style paint;
        isolation: isolate;
        /* Prevent style leakage */
        position: relative;
      }
      
      /* Only apply default text color if email content doesn't have its own */
      .email-body:not([style*="color"]) {
        color: #1e293b;
      }
      
      .dark .email-body:not([style*="color"]) {
        color: #e2e8f0;
      }
      
      /* Preserve all inline styles from emails - don't override */
      .email-body [style] {
        /* Inline styles take precedence - don't override */
      }
      
      /* Smooth drawer animations */
      dialog[open] {
        animation: fadeIn 0.2s ease-out;
      }
      
      dialog:not([open]) {
        animation: fadeOut 0.2s ease-in;
      }
      
      @keyframes fadeIn {
        from {
          opacity: 0;
        }
        to {
          opacity: 1;
        }
      }
      
      @keyframes fadeOut {
        from {
          opacity: 1;
        }
        to {
          opacity: 0;
        }
      }
      
      /* Ensure smooth transitions for drawer panel */
      el-dialog-panel {
        will-change: transform;
      }
      
      /* Smooth backdrop fade */
      el-dialog-backdrop {
        will-change: opacity;
      }
      
      /* Force-hide closed dialogs in case browser/default styles are overridden. */
      dialog:not([open]) {
        display: none !important;
        visibility: hidden !important;
      }

      /* Ensure dialogs are visible when open */
      dialog[open] {
        display: block !important;
        visibility: visible !important;
      }
      
      /* Ensure el-dialog wrapper doesn't hide content */
      el-dialog {
        display: contents;
      }
      
      /* Make sure dialog content is visible when open */
      dialog[open] el-dialog-backdrop {
        opacity: 1 !important;
      }
      
      dialog[open] el-dialog-panel {
        opacity: 1 !important;
        transform: none !important;
      }
      
      /* Toast animations */
      @keyframes slideInFromBottom {
        from {
          opacity: 0;
          transform: translateY(20px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      @keyframes slideOutToBottom {
        from {
          opacity: 1;
          transform: translateY(0);
        }
        to {
          opacity: 0;
          transform: translateY(-20px);
        }
      }

      .toast-enter {
        animation: slideInFromBottom 0.3s ease-out;
      }

      .toast-exit {
        animation: slideOutToBottom 0.3s ease-in;
      }

      /* Reset and normalize email HTML - but preserve original styling */
      .email-body * {
        box-sizing: border-box;
      }
      
      /* Only apply minimal default paragraph styles - let email styles take precedence */
      .email-body p {
        margin: 0;
        padding: 0;
      }
      
      /* Preserve email's own margin/padding styles */
      .email-body p[style*="margin"],
      .email-body p[style*="padding"] {
        /* Let inline styles take precedence */
      }
      
      .email-body img {
        max-width: 100% !important;
        height: auto !important;
        display: block;
      }
      
      /* Only apply minimal table styles - let email's own styling take precedence */
      .email-body table {
        max-width: 100%;
        margin: 0;
      }
      
      /* Only apply minimal pre/code styles - let email's own styling take precedence */
      .email-body pre {
        max-width: 100%;
        overflow-x: auto;
        white-space: pre-wrap;
        word-wrap: break-word;
        margin: 0;
      }
      
      .email-body code {
        max-width: 100%;
        word-wrap: break-word;
      }
      
      /* Only apply minimal blockquote styles - let email's own styling take precedence */
      .email-body blockquote {
        margin: 0;
      }
      
      .email-body a {
        color: #1a73e8;
        text-decoration: none;
      }
      
      .email-body a:hover {
        text-decoration: underline;
      }
      
      .email-body ul,
      .email-body ol {
        margin: 1em 0;
        padding-left: 2em;
      }
      
      .email-body li {
        margin: 0.5em 0;
      }
      
      .email-body h1,
      .email-body h2,
      .email-body h3,
      .email-body h4,
      .email-body h5,
      .email-body h6 {
        font-weight: 600;
        margin-top: 1.5em;
        margin-bottom: 0.75em;
        color: #202124;
        line-height: 1.3;
      }
      
      .dark .email-body h1,
      .dark .email-body h2,
      .dark .email-body h3,
      .dark .email-body h4,
      .dark .email-body h5,
      .dark .email-body h6 {
        color: #f1f5f9;
      }
      
      .email-body h1 { 
        font-size: 24px; 
      }
      
      .email-body h2 { 
        font-size: 20px; 
      }
      
      .email-body h3 { 
        font-size: 18px; 
      }
      
      .email-body h4 { 
        font-size: 16px; 
      }
      
      .email-body h5,
      .email-body h6 { 
        font-size: 15px; 
      }
      
      /* Isolate email content to prevent it from breaking page layout */
      .email-body {
        contain: layout style paint;
        isolation: isolate;
        overflow-wrap: break-word;
        word-wrap: break-word;
        max-width: 100%;
      }
      
      /* Prevent email HTML from breaking modal structure */
      dialog .email-body,
      [role="dialog"] .email-body {
        position: relative;
        z-index: auto;
      }
      
      /* Ensure email content doesn't escape its container */
      .email-body * {
        max-width: 100%;
        box-sizing: border-box;
      }
      
      /* Prevent fixed/absolute positioning from email HTML */
      .email-body [style*="position: fixed"],
      .email-body [style*="position:absolute"],
      .email-body [style*="position: fixed"],
      .email-body [style*="position:absolute"] {
        position: relative !important;
      }
      
      /* Email signature styling - minimal, preserve original */
      .email-body .gmail_signature,
      .email-body .email-signature {
        margin: 0;
      }
      
      /* Quoted/replied email styling - minimal, preserve original */
      .email-body blockquote[type="cite"],
      .email-body .gmail_quote {
        margin: 0;
      }
      
      /* Horizontal rules - minimal, preserve original */
      .email-body hr {
        margin: 0;
      }
      
      /* Div containers */
      .email-body div {
        margin: 0;
      }
      
      /* Remove excessive spacing from email clients */
      .email-body br + br {
        display: none;
      }
      
      /* Style email-specific elements */
      .email-body .moz-cite-prefix {
        color: #5f6368;
        font-size: 13px;
      }
      
      /* Ensure proper spacing for email content */
      .email-body > *:first-child {
        margin-top: 0;
      }
      
      .email-body > *:last-child {
        margin-bottom: 0;
      }

      /* Card entrance animation (applied via .fade-in-card) */
      .fade-in-card {
        opacity: 1;
        transform: none;
        filter: none;
      }

      .fade-in-card.card-entering {
        opacity: 0.84;
        transform: translateY(6px) scale(0.995);
        filter: blur(0.8px);
        will-change: opacity, transform, filter;
      }

      .fade-in-card.card-entered {
        opacity: 1;
        transform: translateY(0) scale(1);
        filter: blur(0);
        transition:
          opacity 260ms cubic-bezier(0.2, 0.8, 0.2, 1),
          transform 340ms cubic-bezier(0.2, 0.8, 0.2, 1),
          filter 300ms cubic-bezier(0.2, 0.8, 0.2, 1);
        transition-delay: var(--card-enter-delay, 0ms);
      }

      /* Simple fade only (used on actions/labels cards). */
      .fade-in-card-simple {
        opacity: 1;
      }

      .fade-in-card-simple.card-entering-simple {
        opacity: 0;
        will-change: opacity;
      }

      .fade-in-card-simple.card-entered {
        opacity: 1;
        transition: opacity 180ms ease-out;
        transition-delay: var(--card-enter-delay, 0ms);
      }

      /* Dark-mode card surface with stronger separation from page background */
      .dark .card-surface {
        background-color: #162338 !important;
        border-color: rgba(148, 163, 184, 0.26) !important;
      }

      /* Dark-mode modal header/footer chrome should be distinct from modal body */
      .dark .modal-chrome {
        background-color: rgba(15, 23, 42, 0.72) !important;
      }

      /* App chrome entrance animation (sidebar/header/shell) */
      .fade-in-chrome {
        opacity: 1;
        transform: none;
        filter: none;
      }

      .fade-in-chrome.chrome-entering {
        opacity: 0.9;
        transform: translateY(4px);
        filter: blur(0.6px);
        will-change: opacity, transform, filter;
      }

      .fade-in-chrome.chrome-entered {
        opacity: 1;
        transform: translateY(0);
        filter: blur(0);
        transition:
          opacity 220ms cubic-bezier(0.2, 0.8, 0.2, 1),
          transform 280ms cubic-bezier(0.2, 0.8, 0.2, 1),
          filter 240ms cubic-bezier(0.2, 0.8, 0.2, 1);
        transition-delay: var(--chrome-enter-delay, 0ms);
      }

      @media (prefers-reduced-motion: reduce) {
        .fade-in-card,
        .fade-in-card-simple,
        .fade-in-card.card-entered,
        .fade-in-card-simple.card-entered,
        .fade-in-chrome,
        .fade-in-chrome.chrome-entered {
          opacity: 1;
          transform: none;
          filter: none;
          transition: none;
        }
      }
